<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Sprawd≈∫ s≈Çowo</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #d0e8ff, #eef7ff);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .card {
      background: white;
      padding: 2.5rem;
      border-radius: 1.5rem;
      box-shadow: 0 10px 25px rgba(0, 123, 255, 0.2);
      max-width: 550px;
      width: 100%;
      text-align: center;
    }
    h2 {
      margin-bottom: 1.5rem;
      color: #023e8a;
    }
    input {
      width: 100%;
      padding: 0.85rem;
      font-size: 1rem;
      border: 2px solid #90e0ef;
      border-radius: 10px;
      outline: none;
    }
    input:focus { border-color: #0077b6; }
    button {
      background: #00b4d8;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      margin: 0.5rem;
    }
    button:hover { background: #0077b6; }
    .result {
      margin-top: 1rem;
      font-weight: bold;
    }
    .correct { color: #38b000; }
    .wrong { color: #d00000; }
    #pronounDisplay {
      color: #0077b6;
      font-weight: 900;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2 id="task">
      –°–ª–æ–≤–æ "—á–∏—Ç–∞—Ç–∏" —É —Ç–µ–ø–µ—Ä—ñ—à–Ω—å–æ–º—É —á–∞—Å—ñ –¥–ª—è <span id="pronounDisplay">ja</span>:
    </h2>
    <input type="text" id="userInput" placeholder="Wpisz po polsku..." />
    <div>
      <button onclick="checkAnswer()" id="checkBtn">Sprawd≈∫</button>
      <button onclick="nextWord()" id="nextBtn" style="display:none;">Nastƒôpne s≈Çowo</button>
    </div>
    <div id="feedback" class="result"></div>
    <a href="cwiczenie.html"><button>Powr√≥t</button></a>
  </div>

  <script>
const tasks = [
  // === Tera≈∫niejszy (—Ç–µ–ø–µ—Ä—ñ—à–Ω—ñ–π) ===
  ["–±—É—Ç–∏", "jestem", "Tera≈∫niejszy", "ja"],
  ["–±—É—Ç–∏", "jeste≈õ", "Tera≈∫niejszy", "ty"],
  ["–±—É—Ç–∏", "jest", "Tera≈∫niejszy", "on"],
  ["–±—É—Ç–∏", "jest", "Tera≈∫niejszy", "ona"],
  ["–±—É—Ç–∏", "jeste≈õmy", "Tera≈∫niejszy", "my"],
  ["–±—É—Ç–∏", "jeste≈õcie", "Tera≈∫niejszy", "wy"],
  ["–±—É—Ç–∏", "sƒÖ", "Tera≈∫niejszy", "oni"],
  ["–±—É—Ç–∏", "sƒÖ", "Tera≈∫niejszy", "one"],

  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynam", "Tera≈∫niejszy", "ja"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynasz", "Tera≈∫niejszy", "ty"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczyna", "Tera≈∫niejszy", "on"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczyna", "Tera≈∫niejszy", "ona"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynamy", "Tera≈∫niejszy", "my"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynacie", "Tera≈∫niejszy", "wy"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynajƒÖ", "Tera≈∫niejszy", "oni"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynajƒÖ", "Tera≈∫niejszy", "one"],

  // === Przesz≈Çy (–º–∏–Ω—É–ª–∏–π) ===
  ["–±—É—Ç–∏", "by≈Çem", "Przesz≈Çy", "ja"],
  ["–±—É—Ç–∏", "by≈Çe≈õ", "Przesz≈Çy", "ty"],
  ["–±—É—Ç–∏", "by≈Ç", "Przesz≈Çy", "on"],
  ["–±—É—Ç–∏", "by≈Ça", "Przesz≈Çy", "ona"],
  ["–±—É—Ç–∏", "byli≈õmy", "Przesz≈Çy", "my"],
  ["–±—É—Ç–∏", "byli≈õcie", "Przesz≈Çy", "wy"],
  ["–±—É—Ç–∏", "byli", "Przesz≈Çy", "oni"],
  ["–±—É—Ç–∏", "by≈Çy", "Przesz≈Çy", "one"],

  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczyna≈Çem", "Przesz≈Çy", "ja"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczyna≈Çe≈õ", "Przesz≈Çy", "ty"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczyna≈Ç", "Przesz≈Çy", "on"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczyna≈Ça", "Przesz≈Çy", "ona"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynali≈õmy", "Przesz≈Çy", "my"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynali≈õcie", "Przesz≈Çy", "wy"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczynali", "Przesz≈Çy", "oni"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "zaczyna≈Çy", "Przesz≈Çy", "one"],

  // === Przysz≈Çy (–º–∞–π–±—É—Ç–Ω—ñ–π) ===
  ["–±—É—Ç–∏", "bƒôdƒô", "Przysz≈Çy", "ja"],
  ["–±—É—Ç–∏", "bƒôdziesz", "Przysz≈Çy", "ty"],
  ["–±—É—Ç–∏", "bƒôdzie", "Przysz≈Çy", "on"],
  ["–±—É—Ç–∏", "bƒôdzie", "Przysz≈Çy", "ona"],
  ["–±—É—Ç–∏", "bƒôdziemy", "Przysz≈Çy", "my"],
  ["–±—É—Ç–∏", "bƒôdziecie", "Przysz≈Çy", "wy"],
  ["–±—É—Ç–∏", "bƒôdƒÖ", "Przysz≈Çy", "oni"],
  ["–±—É—Ç–∏", "bƒôdƒÖ", "Przysz≈Çy", "one"],

  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdƒô zaczynaƒá", "Przysz≈Çy", "ja"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdziesz zaczynaƒá", "Przysz≈Çy", "ty"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdzie zaczynaƒá", "Przysz≈Çy", "on"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdzie zaczynaƒá", "Przysz≈Çy", "ona"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdziemy zaczynaƒá", "Przysz≈Çy", "my"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdziecie zaczynaƒá", "Przysz≈Çy", "wy"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdƒÖ zaczynaƒá", "Przysz≈Çy", "oni"],
  ["–ø–æ—á–∏–Ω–∞—Ç–∏", "bƒôdƒÖ zaczynaƒá", "Przysz≈Çy", "one"],
];

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function detectGenderByCorrectForm(form) {
      form = form.toLowerCase().trim();
      if (/(li≈õmy|li≈õcie|li)$/.test(form)) return "–º–Ω–æ–∂–∏–Ω–∞ (—á–æ–ª.)";
      if (/(≈Çy≈õmy|≈Çy≈õcie|≈Çy)$/.test(form)) return "–º–Ω–æ–∂–∏–Ω–∞ (–∂—ñ–Ω.)";
      if (/(≈Çem|≈Çe≈õ|≈Ç)$/.test(form)) return "—á–æ–ª.—Ä—ñ–¥";
      if (/(≈Çam|≈Ça≈õ|≈Ça)$/.test(form)) return "–∂—ñ–Ω.—Ä—ñ–¥";
      if (/≈Ço$/.test(form)) return "—Å–µ—Ä–µ–¥.—Ä—ñ–¥";
      return "–Ω–µ–≤—ñ–¥–æ–º–æ";
    }

    let currentIndex = 0;

    function updateTaskTitle(infinitive, tense, pronoun, correctForm) {
      let label = `${infinitive} —É ${tense.toLowerCase()} —á–∞—Å—ñ –¥–ª—è `;
      let genderInfo = "";

      if (tense === "Przesz≈Çy") {
        const gender = detectGenderByCorrectForm(correctForm);
        genderInfo = ` (${gender})`;
      }

      document.getElementById("task").innerHTML =
        `–°–ª–æ–≤–æ "${label}<span id="pronounDisplay">${pronoun}${genderInfo}</span>:`;
    }

    function checkAnswer() {
      const userInput = document.getElementById("userInput").value.toLowerCase().trim();
      const [infinitive, correctForm, tense, pronoun] = tasks[currentIndex];
      const correct = correctForm.toLowerCase().trim();

      if (userInput === correct) {
        document.getElementById("feedback").textContent = "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!";
        document.getElementById("feedback").className = "result correct";
        document.getElementById("checkBtn").style.display = "none";
        document.getElementById("nextBtn").style.display = "inline-block";
      } else {
        document.getElementById("feedback").textContent = "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –°–ø—Ä–æ–±—É–π —â–µ.";
        document.getElementById("feedback").className = "result wrong";
      }

      updateTaskTitle(infinitive, tense, pronoun, correctForm);
    }

    function nextWord() {
      currentIndex++;
      if (currentIndex >= tasks.length) {
        document.getElementById("task").innerHTML = "Koniec ƒáwiczenia! üéâ";
        document.getElementById("userInput").style.display = "none";
        document.getElementById("checkBtn").style.display = "none";
        document.getElementById("nextBtn").style.display = "none";
        document.getElementById("feedback").textContent = "";
      } else {
        const [infinitive, correctForm, tense, pronoun] = tasks[currentIndex];
        document.getElementById("userInput").value = "";
        document.getElementById("feedback").textContent = "";
        document.getElementById("checkBtn").style.display = "inline-block";
        document.getElementById("nextBtn").style.display = "none";
        updateTaskTitle(infinitive, tense, pronoun, correctForm);
      }
    }

    window.onload = () => {
      shuffleArray(tasks);
      const [infinitive, correctForm, tense, pronoun] = tasks[currentIndex];
      updateTaskTitle(infinitive, tense, pronoun, correctForm);
    };
  </script>
</body>
</html>
