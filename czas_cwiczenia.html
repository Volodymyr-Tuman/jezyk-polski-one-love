<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Sprawdź słowo</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #d0e8ff, #eef7ff);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .card {
      background: white;
      padding: 2.5rem;
      border-radius: 1.5rem;
      box-shadow: 0 10px 25px rgba(0, 123, 255, 0.2);
      max-width: 550px;
      width: 100%;
      text-align: center;
    }
    h2 {
      margin-bottom: 1.5rem;
      color: #023e8a;
    }
    input {
      width: 100%;
      padding: 0.85rem;
      font-size: 1rem;
      border: 2px solid #90e0ef;
      border-radius: 10px;
      outline: none;
    }
    input:focus { border-color: #0077b6; }
    button {
      background: #00b4d8;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      margin: 0.5rem;
    }
    button:hover { background: #0077b6; }
    .result {
      margin-top: 1rem;
      font-weight: bold;
    }
    .correct { color: #38b000; }
    .wrong { color: #d00000; }
    #pronounDisplay {
      color: #0077b6;
      font-weight: 900;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2 id="task">
      Слово "читати" у теперішньому часі для <span id="pronounDisplay">ja</span>:
    </h2>
    <input type="text" id="userInput" placeholder="Wpisz po polsku..." />
    <div>
      <button onclick="checkAnswer()" id="checkBtn">Sprawdź</button>
      <button onclick="nextWord()" id="nextBtn" style="display:none;">Następne słowo</button>
    </div>
    <div id="feedback" class="result"></div>
    <a href="cwiczenie.html"><button>Powrót</button></a>
  </div>

  <script>
const tasks = [
  // === Teraźniejszy (теперішній) ===
  ["czytać", "czytam", "Teraźniejszy", "ja"],
  ["pisać", "piszę", "Teraźniejszy", "ja"],
  ["gotować", "gotuję", "Teraźniejszy", "ja"],
  ["sprzątać", "sprzątam", "Teraźniejszy", "ja"],
  ["oglądać", "oglądam", "Teraźniejszy", "ja"],

  ["czytać", "czytasz", "Teraźniejszy", "ty"],
  ["pisać", "piszesz", "Teraźniejszy", "ty"],
  ["gotować", "gotujesz", "Teraźniejszy", "ty"],
  ["sprzątać", "sprzątasz", "Teraźniejszy", "ty"],
  ["oglądać", "oglądasz", "Teraźniejszy", "ty"],

  ["czytać", "czyta", "Teraźniejszy", "on"],
  ["pisać", "pisze", "Teraźniejszy", "on"],
  ["gotować", "gotuje", "Teraźniejszy", "on"],
  ["sprzątać", "sprząta", "Teraźniejszy", "on"],
  ["oglądać", "ogląda", "Teraźniejszy", "on"],

  ["czytać", "czyta", "Teraźniejszy", "ona"],
  ["pisać", "pisze", "Teraźniejszy", "ona"],
  ["gotować", "gotuje", "Teraźniejszy", "ona"],
  ["sprzątać", "sprząta", "Teraźniejszy", "ona"],
  ["oglądać", "ogląda", "Teraźniejszy", "ona"],

  ["czytać", "czytamy", "Teraźniejszy", "my"],
  ["pisać", "piszemy", "Teraźniejszy", "my"],
  ["gotować", "gotujemy", "Teraźniejszy", "my"],
  ["sprzątać", "sprzątamy", "Teraźniejszy", "my"],
  ["oglądać", "oglądamy", "Teraźniejszy", "my"],

  ["czytać", "czytacie", "Teraźniejszy", "wy"],
  ["pisać", "piszecie", "Teraźniejszy", "wy"],
  ["gotować", "gotujecie", "Teraźniejszy", "wy"],
  ["sprzątać", "sprzątacie", "Teraźniejszy", "wy"],
  ["oglądać", "oglądacie", "Teraźniejszy", "wy"],

  ["czytać", "czytają", "Teraźniejszy", "oni"],
  ["pisać", "piszą", "Teraźniejszy", "oni"],
  ["gotować", "gotują", "Teraźniejszy", "oni"],
  ["sprzątać", "sprzątają", "Teraźniejszy", "oni"],
  ["oglądać", "oglądają", "Teraźniejszy", "oni"],

  ["czytać", "czytają", "Teraźniejszy", "one"],
  ["pisać", "piszą", "Teraźniejszy", "one"],
  ["gotować", "gotują", "Teraźniejszy", "one"],
  ["sprzątać", "sprzątają", "Teraźniejszy", "one"],
  ["oglądać", "oglądają", "Teraźniejszy", "one"],

  // === Przeszły (минулий) ===
  ["czytać", "czytałem", "Przeszły", "ja"],
  ["pisać", "pisałem", "Przeszły", "ja"],
  ["gotować", "gotowałem", "Przeszły", "ja"],
  ["sprzątać", "sprzątałem", "Przeszły", "ja"],
  ["oglądać", "oglądałem", "Przeszły", "ja"],

  ["czytać", "czytałaś", "Przeszły", "ty"],
  ["pisać", "pisałaś", "Przeszły", "ty"],
  ["gotować", "gotowałaś", "Przeszły", "ty"],
  ["sprzątać", "sprzątałaś", "Przeszły", "ty"],
  ["oglądać", "oglądałaś", "Przeszły", "ty"],

  ["czytać", "czytał", "Przeszły", "on"],
  ["pisać", "pisał", "Przeszły", "on"],
  ["gotować", "gotował", "Przeszły", "on"],
  ["sprzątać", "sprzątał", "Przeszły", "on"],
  ["oglądać", "oglądał", "Przeszły", "on"],

  ["czytać", "czytała", "Przeszły", "ona"],
  ["pisać", "pisała", "Przeszły", "ona"],
  ["gotować", "gotowała", "Przeszły", "ona"],
  ["sprzątać", "sprzątała", "Przeszły", "ona"],
  ["oglądać", "oglądała", "Przeszły", "ona"],

  ["czytać", "czytaliśmy", "Przeszły", "my"],
  ["pisać", "pisaliśmy", "Przeszły", "my"],
  ["gotować", "gotowaliśmy", "Przeszły", "my"],
  ["sprzątać", "sprzątaliśmy", "Przeszły", "my"],
  ["oglądać", "oglądaliśmy", "Przeszły", "my"],

  ["czytać", "czytaliście", "Przeszły", "wy"],
  ["pisać", "pisaliście", "Przeszły", "wy"],
  ["gotować", "gotowaliście", "Przeszły", "wy"],
  ["sprzątać", "sprzątaliście", "Przeszły", "wy"],
  ["oglądać", "oglądaliście", "Przeszły", "wy"],

  ["czytać", "czytali", "Przeszły", "oni"],
  ["pisać", "pisali", "Przeszły", "oni"],
  ["gotować", "gotowali", "Przeszły", "oni"],
  ["sprzątać", "sprzątali", "Przeszły", "oni"],
  ["oglądać", "oglądali", "Przeszły", "oni"],

  ["czytać", "czytały", "Przeszły", "one"],
  ["pisać", "pisały", "Przeszły", "one"],
  ["gotować", "gotowały", "Przeszły", "one"],
  ["sprzątać", "sprzątały", "Przeszły", "one"],
  ["oglądać", "oglądały", "Przeszły", "one"],

  // === Przyszły (майбутній) ===
  ["czytać", "będę czytać", "Przyszły", "ja"],
  ["pisać", "będę pisać", "Przyszły", "ja"],
  ["gotować", "będę gotować", "Przyszły", "ja"],
  ["sprzątać", "będę sprzątać", "Przyszły", "ja"],
  ["oglądać", "będę oglądać", "Przyszły", "ja"],

  ["czytać", "będziesz czytać", "Przyszły", "ty"],
  ["pisać", "będziesz pisać", "Przyszły", "ty"],
  ["gotować", "będziesz gotować", "Przyszły", "ty"],
  ["sprzątać", "będziesz sprzątać", "Przyszły", "ty"],
  ["oglądać", "będziesz oglądać", "Przyszły", "ty"],

  ["czytać", "będzie czytać", "Przyszły", "on"],
  ["pisać", "będzie pisać", "Przyszły", "on"],
  ["gotować", "będzie gotować", "Przyszły", "on"],
  ["sprzątać", "będzie sprzątać", "Przyszły", "on"],
  ["oglądać", "będzie oglądać", "Przyszły", "on"],

  ["czytać", "będzie czytać", "Przyszły", "ona"],
  ["pisać", "będzie pisać", "Przyszły", "ona"],
  ["gotować", "będzie gotować", "Przyszły", "ona"],
  ["sprzątać", "będzie sprzątać", "Przyszły", "ona"],
  ["oglądać", "będzie oglądać", "Przyszły", "ona"],

  ["czytać", "będziemy czytać", "Przyszły", "my"],
  ["pisać", "będziemy pisać", "Przyszły", "my"],
  ["gotować", "będziemy gotować", "Przyszły", "my"],
  ["sprzątać", "będziemy sprzątać", "Przyszły", "my"],
  ["oglądać", "będziemy oglądać", "Przyszły", "my"],

  ["czytać", "będziecie czytać", "Przyszły", "wy"],
  ["pisać", "będziecie pisać", "Przyszły", "wy"],
  ["gotować", "będziecie gotować", "Przyszły", "wy"],
  ["sprzątać", "będziecie sprzątać", "Przyszły", "wy"],
  ["oglądać", "będziecie oglądać", "Przyszły", "wy"],

  ["czytać", "będą czytać", "Przyszły", "oni"],
  ["pisać", "będą pisać", "Przyszły", "oni"],
  ["gotować", "będą gotować", "Przyszły", "oni"],
  ["sprzątać", "będą sprzątać", "Przyszły", "oni"],
  ["oglądać", "będą oglądać", "Przyszły", "oni"],

  ["czytać", "będą czytać", "Przyszły", "one"],
  ["pisać", "będą pisać", "Przyszły", "one"],
  ["gotować", "będą gotować", "Przyszły", "one"],
  ["sprzątać", "będą sprzątać", "Przyszły", "one"],
  ["oglądać", "będą oglądać", "Przyszły", "one"],
];


    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function detectGenderByCorrectForm(form) {
      form = form.toLowerCase().trim();
      if (/(liśmy|liście|li)$/.test(form)) return "множина (чол.)";
      if (/(łyśmy|łyście|ły)$/.test(form)) return "множина (жін.)";
      if (/(łem|łeś|ł)$/.test(form)) return "чол.рід";
      if (/(łam|łaś|ła)$/.test(form)) return "жін.рід";
      if (/ło$/.test(form)) return "серед.рід";
      return "невідомо";
    }

    let currentIndex = 0;

    function updateTaskTitle(infinitive, tense, pronoun, correctForm) {
      let label = `${infinitive}" у ${tense.toLowerCase()} часі для `;
      let genderInfo = "";

      if (tense === "Przeszły") {
        const gender = detectGenderByCorrectForm(correctForm);
        genderInfo = ` (${gender})`;
      }

      document.getElementById("task").innerHTML =
        `Слово "${label}<span id="pronounDisplay">${pronoun}${genderInfo}</span>:`;
    }

    function checkAnswer() {
      const userInput = document.getElementById("userInput").value.toLowerCase().trim();
      const [infinitive, correctForm, tense, pronoun] = tasks[currentIndex];
      const correct = correctForm.toLowerCase().trim();

      if (userInput === correct) {
        document.getElementById("feedback").textContent = "Правильно!";
        document.getElementById("feedback").className = "result correct";
        document.getElementById("checkBtn").style.display = "none";
        document.getElementById("nextBtn").style.display = "inline-block";
      } else {
        document.getElementById("feedback").textContent = "Неправильно. Спробуй ще.";
        document.getElementById("feedback").className = "result wrong";
      }

      updateTaskTitle(infinitive, tense, pronoun, correctForm);
    }

    function nextWord() {
      currentIndex++;

      if (currentIndex >= tasks.length) {
        document.getElementById("task").innerHTML = `Вправа завершена ✅`;
        document.getElementById("userInput").style.display = "none";
        document.getElementById("checkBtn").style.display = "none";
        document.getElementById("nextBtn").style.display = "none";
        document.getElementById("feedback").textContent = "Молодець!";
        document.getElementById("feedback").className = "result correct";
        return;
      }

      const [infinitive, correctForm, tense, pronoun] = tasks[currentIndex];
      document.getElementById("userInput").value = "";
      document.getElementById("feedback").textContent = "";
      document.getElementById("checkBtn").style.display = "inline-block";
      document.getElementById("nextBtn").style.display = "none";
      updateTaskTitle(infinitive, tense, pronoun, correctForm);
    }

    window.onload = () => {
      shuffleArray(tasks);
      const [infinitive, correctForm, tense, pronoun] = tasks[currentIndex];
      updateTaskTitle(infinitive, tense, pronoun, correctForm);
    };
  </script>
</body>
</html>
